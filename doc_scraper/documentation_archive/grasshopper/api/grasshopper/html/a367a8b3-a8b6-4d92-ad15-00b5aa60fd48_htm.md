---
url: https://developer.rhino3d.com/api/grasshopper/html/a367a8b3-a8b6-4d92-ad15-00b5aa60fd48.htm
scraped_at: 2025-09-08T16:10:29.786132
title: Untitled
---

Grasshopper API

[Grasshopper API](../html/723c01da-9986-4db2-8f53-6f3a7494df75.htm
"Grasshopper API")

[Examples](../html/d113a9f0-6e27-46df-8316-2079c44382ac.htm "Examples")

[C#](../html/730f0792-7bfb-4310-a416-239e8c315645.htm "C#")

[Simple Component (C#)](../html/730f0792-7bfb-4310-a416-239e8c315645.htm
"Simple Component \(C#\)")

[Simple Mathematics (C#)](../html/fdd35a9c-bf08-47cf-abe8-08ccb192475f.htm
"Simple Mathematics \(C#\)")

[Simple Geometry (C#)](../html/5764fa15-29d1-4e37-8496-2478d3cf28dc.htm
"Simple Geometry \(C#\)")

[Simple Data Types (C#)](../html/d823ee90-ea94-4a8a-a972-df5d006a8d9f.htm
"Simple Data Types \(C#\)")

[Simple Parameters (C#)](../html/fbfe5e40-ba8d-4e53-97c6-27572e049835.htm
"Simple Parameters \(C#\)")

[List Component (C#)](../html/020a5098-963f-4da8-bf65-650993c73bcb.htm "List
Component \(C#\)")

[Extending the GUI (C#)](../html/a367a8b3-a8b6-4d92-ad15-00b5aa60fd48.htm
"Extending the GUI \(C#\)")

[Custom Attributes (C#)](../html/8a7974ab-7b2b-4f48-84d0-6e81b184e6b0.htm
"Custom Attributes \(C#\)")

[Custom Component Options
(C#)](../html/5f6a9f31-8838-40e6-ad37-a407be8f2c15.htm "Custom Component
Options \(C#\)")

![Click or drag to resize](../icons/TocOpen.gif)![Click or drag to
resize](../icons/TocClose.gif)

# Extending the GUI (C#)  
  
---  
  
  * Introduction
  * Default Functionality and GUI
  * Menus
  * Interaction
  * Display

This article describes how to extend the default behaviour, functionality and
graphical user interface (GUI) of Grasshopper document objects. We'll focus on
components as you should be familiar with those from earlier topics, but the
same logic also applies to Parameters and custom objects.

![](../icons/SectionExpanded.png)Default Functionality and GUI

When you derive a class from
[GH_Component](T_Grasshopper_Kernel_GH_Component.htm) or
[GH_ParamT](T_Grasshopper_Kernel_GH_Param_1.htm) you get a lot of
functionality and GUI for free. It is quite important that all the objects in
Grasshopper behave in a consistent and predictable fashion so you typically
don't need to override this default behaviour. However there can be cases
where changing the default Grasshopper GUI is the best solution. Overriding
the GUI is not exactly a trivial task, there are a lot of different facets to
this and I'll discuss the most important ones in this topic.

There are three common ways in which the default GUI can be altered:

  * Menus
  * Interaction
  * Display

![](../icons/SectionExpanded.png)Menus

It is possibe to insert items into the default pop-up menus of objects, or
even to completely alter the menu layout. If your component for example can
run in two different modes, you can choose to expose an additional GUI option
instead of an input parameter. These modes can then be toggled via the
component pop-up menu.

At the lowest level, pop-up menus are generated by the canvas when a right
mouse button click is detected over a component or parameter. The menu by
default contains no items and it is the responsibility of said component or
parameter to populate the menu. The top-level method which is in charge of
this is
[AppendMenuItems](M_Grasshopper_Kernel_IGH_DocumentObject_AppendMenuItems.htm)
which is defined inside IGH_DocumentObject and thus propagates to all objects
on the canvas.

The GH_DocumentObject abstract class does not create any menu items, so unless
this function is overridden, there will be no popup menu for a certain object.
However, it is unlikely you derive directly from GH_DocumentObject so this
should not be a problem. GH_ActiveObject, which is the base class for all
objects on the canvas that actually do something (Sketches and Scribbles don't
"do" anything, hence they derive directly from GH_DocumentObject), does
provide a default implementation of AppendMenuItems(). The default layout of
popup menus is:

  * NickName

  * Preview

  * Enabled

  * Bake

  * Warnings

  * Errors

  * Help

Although if the object in question does not support previews or baking then
those items will be missing from the final menu. When overridden,
AppendMenuItems() allows you to completely replace the default menu:

VB

Copy

    
    
    public override bool AppendMenuItems(ToolStripDropDown menu)
    {
      Menu_AppendGenericMenuItem(menu, "First item");
      Menu_AppendGenericMenuItem(menu, "Second item");
      Menu_AppendGenericMenuItem(menu, "Third item");
      Menu_AppendSeparator(menu);
      Menu_AppendGenericMenuItem(menu, "Fourth item");
      Menu_AppendGenericMenuItem(menu, "Fifth item");
      Menu_AppendGenericMenuItem(menu, "Sixth item");
    
      // Return true, otherwise the menu won't be shown.
      return true;
    }

![](../media/OverrideAppendMenuItems.png)

If you want to insert additional items into the menu it would be very annoying
if you had to recreate this default menu layout from scratch every single
time. So eventhough you can override AppendMenuItems() it is recommended you
instead override AppendAdditionalMenuItems() which allows you to insert custom
menu items between Errors and Help without losing the standard functionality:

VB

Copy

    
    
    public override void AppendAdditionalMenuItems(ToolStripDropDown menu)
    {
      base.AppendAdditionalMenuItems(menu);
    
      Menu_AppendGenericMenuItem(menu, "First item");
      Menu_AppendGenericMenuItem(menu, "Second item");
      Menu_AppendGenericMenuItem(menu, "Third item");
      Menu_AppendSeparator(menu);
      Menu_AppendGenericMenuItem(menu, "Fourth item");
      Menu_AppendGenericMenuItem(menu, "Fifth item");
      Menu_AppendGenericMenuItem(menu, "Sixth item");
    }

![](../media/OverrideAppendAdditionalMenuItems.png)

GH_Param<T> for example derives from GH_ActiveObject and re-implements
AppendAdditionalMenuItems() in order to supply the Wire Display, Disconnect,
Reverse, Flatten and Graft menu items that are present in all parameters.
GH_Component, likewise, derives from GH_ActiveObject and it re-implements
AppendAdditionalMenuItems() in order to insert the Shortest List, Longest
List, Cross Reference and the parameter submenus.

Long story short; if you wish to insert additional menu items then either re-
implement AppendAdditionalMenuItems() if you derive from GH_Param<T> or re-
implement AppendAdditionalComponentMenuItems() if you derive from
GH_Component:

VB

Copy

    
    
    // If you implement IGH_Param, then override this method. If you implement IGH_Component, 
    // then override AppendAdditionalComponentMenuItems instead.
    protected override void AppendAdditionalMenuItems(ToolstripDropDown menu)
    {  
      // Place a call to the base class to ensure the default parameter menu
      // is still there and operational.
      base.AppendAdditinalMenuItems(menu);
    
      // Now insert your own custom menu items.
      Menu_AppendGenericMenuItem(menu, "My Custom Menu Item", Menu_MyCustomItemClicked);
    }
    
    private void Menu_MyCustomItemClicked(Object sender, EventArgs e)
    {
      Rhino.RhinoApp.WriteLine("Alcohol doesn't affect me...");
    }

There's a lot of menu utility functions provided by GH_DocumentObject. They
all start with "Menu_" and they'll make it much easier to insert formatted
menu items. But of course nothing is stopping you from using typical
System.Windows.Forms plumbing to extend the pop-up menu.

![](../icons/SectionExpanded.png)Interaction

You can also choose to handle specific mouse and keyboard events. You could
for example choose to respond to a mouse double-click event on your component.
Complicated objects such as Gradients and Graph Mappers handle all sorts of
mouse events to provide grip-dragging functionality directly within the
Grasshopper canvas. todo: finish this section

![](../icons/SectionExpanded.png)Display

Finally, it is possible to override the way an object displays itself on the
canvas. These alterations can be minor, mere additions to the default display,
or they can be radically different (as with the Gradient and Graph Mapper
objects). For a detailed explanation regarding display overrides, see the
[Custom Attributes](8a7974ab-7b2b-4f48-84d0-6e81b184e6b0.htm) topic.

Grasshopper for Rhino 8.22.25217.12450 (2025-08-05)  
Copyright Â© 2009-2025 Robert McNeel & Associates

[Report wishes and bugs at
discourse.mcneel.com](https://discourse.mcneel.com/c/grasshopper)

